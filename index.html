<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">

    <title>Document</title>
</head>
<body>

    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-12">Weather Dashboard</h1>
        </div>
      </div>


    <div class = "container buttonsgroup">


    <div class="row" id="cities">
        
        <div class="col-4 searchcolumn">
     <!-- search input box -->
            <Div class="inputarea" id="search">
             <input type="text" id = "city-input" placeholder="Type city">

    <!-- search button -->
                <input type="submit" class="searchadd" id="searchbtn" Value="Search">
                
            </Div>
    <!-- this is the place where previous search gets saved -->
            <div class="savedcities" id="save-btns"> </div>

        </div>

<!-- Weather results--------------------------------------------- -->
        <!--==================================  -->

<div class="col-8" id="resultdisplay">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Repellat saepe dolore obcaecati repudiandae ex voluptatem cum aliquam assumenda suscipit debitis unde sunt voluptatum, tempore vel magni accusantium commodi quis enim.
        
</div>

<div class="container">
    <div class="forecast">forecast</div>
</div>
        <!-- end of weather result screen -->
    </div>
    </div>
    <!-- ======================================================= -->

<!-- Getting API======================== -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">

        var savebtnsDiv = $("div#save-btns");
        var citiesarr = ["Washington DC", "New York", "Boston"]

        var renderLast = function(){
        savebtnsDiv.html("");
        $.each(citiesarr, function(idx, city){
            var btn = $("<button>");
            btn.text(city);
            btn.attr("id", "choices")
            btn.addClass("nav-link")
            savebtnsDiv.append(btn);
           
        })
        
        }   
renderLast();



// =======================ajax not working yet

var weatherLookUp = function(city){
        var queryURL = "http://api.openweathermap.org/data/2.5/weather/";
        $.ajax({
          url: queryURL,
          method: "GET",
          data: {
            q: city,
            apikey: "9d9098e8b8edb39b819bbf8955b080a6"
          }
        }).then(function(response) {
          $("#resultdisplay").text(JSON.stringify(response));
        });
      }
// =========================================

        $("#searchbtn").on("click", function(event){
            event.preventDefault();
            var city = $("#city-input").val();
            citiesarr.push(city);
            renderLast();   
            console.log(city)
        });
renderLast();

</script>
</body>
</html>